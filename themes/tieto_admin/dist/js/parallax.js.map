{"version":3,"file":"parallax.js","sources":["node_modules/rellax/rellax.js","src/scripts/parallax.js"],"sourcesContent":["\n// ------------------------------------------\n// Rellax.js - v0.2\n// Buttery smooth parallax library\n// Copyright (c) 2016 Moe Amaya (@moeamaya)\n// MIT license\n//\n// Thanks to Paraxify.js and Jaime Cabllero\n// for parallax concepts \n// ------------------------------------------\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.Rellax = factory();\n  }\n}(this, function () {\n  var Rellax = function(el, options){ \n    \"use strict\";\n\n    var self = Object.create(Rellax.prototype);\n\n    // Rellax stays lightweight by limiting usage to desktops/laptops\n    if (typeof window.orientation !== 'undefined') { return; }\n\n    var posY = 0; // set it to -1 so the animate function gets called at least once\n    var screenY = 0;\n    var blocks = [];\n    \n    // check what requestAnimationFrame to use, and if\n    // it's not supported, use the onscroll event\n    var loop = window.requestAnimationFrame ||\n    \twindow.webkitRequestAnimationFrame ||\n    \twindow.mozRequestAnimationFrame ||\n    \twindow.msRequestAnimationFrame ||\n    \twindow.oRequestAnimationFrame ||\n    \tfunction(callback){ setTimeout(callback, 1000 / 60); };\n\n    // Default Settings\n    self.options = {\n      speed: -2\n    };\n\n    // User defined options (might have more in the future)\n    if (options){\n      Object.keys(options).forEach(function(key){\n        self.options[key] = options[key];\n      });\n    }\n\n    // If some clown tries to crank speed, limit them to +-10\n    if (self.options.speed < -10) {\n      self.options.speed = -10;\n    } else if (self.options.speed > 10) {\n      self.options.speed = 10;\n    }\n\n    // By default, rellax class\n    if (!el) {\n      el = '.rellax';\n    }\n\n    // Classes\n    if (document.getElementsByClassName(el.replace('.',''))){\n      self.elems = document.getElementsByClassName(el.replace('.',''));\n    }\n\n    // Now query selector\n    else if (document.querySelector(el) !== false) {\n      self.elems = querySelector(el);\n    }\n\n    // The elements don't exist\n    else {\n      throw new Error(\"The elements you're trying to select don't exist.\");\n    }\n\n\n    // Let's kick this script off\n    // Build array for cached element values\n    // Bind scroll and resize to animate method\n    var init = function() {\n      screenY = window.innerHeight;\n      setPosition();\n\n      // Get and cache initial position of all elements\n      for (var i = 0; i < self.elems.length; i++){\n        var block = createBlock(self.elems[i]);\n        blocks.push(block);\n      }\n\t\t\t\n\t\t\twindow.addEventListener('resize', function(){\n\t\t\t  animate();\n\t\t\t});\n\t\t\t\n\t\t\t// Start the loop\n      update();\n      \n      // The loop does nothing if the scrollPosition did not change\n      // so call animate to make sure every element has their transforms\n      animate();\n    };\n\n\n    // We want to cache the parallax blocks'\n    // values: base, top, height, speed\n    // el: is dom object, return: el cache values\n    var createBlock = function(el) {\n\n      // initializing at scrollY = 0 (top of browser)\n      // ensures elements are positioned based on HTML layout\n      var posY = 0;\n\n      var blockTop = posY + el.getBoundingClientRect().top;\n      var blockHeight = el.clientHeight || el.offsetHeight || el.scrollHeight;\n\n      // apparently parallax equation everyone uses\n      var percentage = (posY - blockTop + screenY) / (blockHeight + screenY);\n\n      // Optional individual block speed as data attr, otherwise global speed\n      var speed = el.dataset.rellaxSpeed ? el.dataset.rellaxSpeed : self.options.speed;\n      var base = updatePosition(percentage, speed);\n\n      // Store non-translate3d transforms\n      var cssTransform = el.style.cssText.slice(11);\n\n      return {\n        base: base,\n        top: blockTop,\n        height: blockHeight,\n        speed: speed,\n        style: cssTransform\n      };\n    };\n\n\n    // set scroll position (posY)\n    // side effect method is not ideal, but okay for now\n    // returns true if the scroll changed, false if nothing happened\n    var setPosition = function() {\n    \tvar oldY = posY;\n    \t\n      if (window.pageYOffset !== undefined) {\n        posY = window.pageYOffset;\n      } else {\n        posY = (document.documentElement || document.body.parentNode || document.body).scrollTop;\n      }\n      \n      if (oldY != posY) {\n      \t// scroll changed, return true\n      \treturn true;\n      }\n      \n      // scroll did not change\n      return false;\n    };\n\n\n    // Ahh a pure function, gets new transform value\n    // based on scrollPostion and speed\n    var updatePosition = function(percentage, speed) {\n      var value = (speed * (100 * (1 - percentage)));\n      return Math.round(value);\n    };\n\n\n    //\n\t\tvar update = function() {\n\t\t\tif (setPosition()) {\n\t\t\t\tanimate();\n\t    }\n\t    \n\t    // loop again\n\t    loop(update);\n\t\t};\n\t\t\n    // Transform3d on parallax element\n    var animate = function() {\n    \tfor (var i = 0; i < self.elems.length; i++){\n        var percentage = ((posY - blocks[i].top + screenY) / (blocks[i].height + screenY));\n\n        // Subtracting initialize value, so element stays in same spot as HTML\n        var position = updatePosition(percentage, blocks[i].speed) - blocks[i].base;\n\n        // Move that element\n        var translate = 'translate3d(0,' + position + 'px' + ',0)' + blocks[i].style;\n        self.elems[i].style.cssText = '-webkit-transform:'+translate+';-moz-transform:'+translate+';transform:'+translate+';';\n      }\n    };\n\n\n    init();\n    Object.freeze();\n    return self;\n  };\n  return Rellax;\n}));","/**\n * @file\n * Initialize parallaxes with Rellax lib.\n *\n * @see  https://github.com/dixonandmoe/rellax\n */\n\nimport Rellax from 'rellax'\n\n(function () {\n\tvar rellax = new Rellax('.parallax');\n})()\n"],"names":["this"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAWA,CAAC,UAAU,IAAI,EAAE,OAAO,EAAE;IACtB,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,EAAE;;QAE5C,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;KACvB,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,OAAO,EAAE;;;;QAIrD,MAAM,CAAC,OAAO,GAAG,OAAO,EAAE,CAAC;KAC9B,MAAM;;QAEH,IAAI,CAAC,MAAM,GAAG,OAAO,EAAE,CAAC;GAC7B;CACF,CAACA,cAAI,EAAE,YAAY;EAClB,IAAI,MAAM,GAAG,SAAS,EAAE,EAAE,OAAO,CAAC;IAChC,YAAY,CAAC;;IAEb,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;;;IAG3C,IAAI,OAAO,MAAM,CAAC,WAAW,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;IAE1D,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,IAAI,OAAO,GAAG,CAAC,CAAC;IAChB,IAAI,MAAM,GAAG,EAAE,CAAC;;;;IAIhB,IAAI,IAAI,GAAG,MAAM,CAAC,qBAAqB;KACtC,MAAM,CAAC,2BAA2B;KAClC,MAAM,CAAC,wBAAwB;KAC/B,MAAM,CAAC,uBAAuB;KAC9B,MAAM,CAAC,sBAAsB;KAC7B,SAAS,QAAQ,CAAC,EAAE,UAAU,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC;;;IAGxD,IAAI,CAAC,OAAO,GAAG;MACb,KAAK,EAAE,CAAC,CAAC;KACV,CAAC;;;IAGF,IAAI,OAAO,CAAC;MACV,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;OAClC,CAAC,CAAC;KACJ;;;IAGD,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,EAAE;MAC5B,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC;KAC1B,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,EAAE;MAClC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;KACzB;;;IAGD,IAAI,CAAC,EAAE,EAAE;MACP,EAAE,GAAG,SAAS,CAAC;KAChB;;;IAGD,IAAI,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;MACtD,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;KAClE;;;SAGI,IAAI,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,KAAK,EAAE;MAC7C,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC,EAAE,CAAC,CAAC;KAChC;;;SAGI;MACH,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;KACtE;;;;;;IAMD,IAAI,IAAI,GAAG,WAAW;MACpB,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC;MAC7B,WAAW,EAAE,CAAC;;;MAGd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC;QACzC,IAAI,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;OACpB;;GAEJ,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAU;KAC1C,OAAO,EAAE,CAAC;IACX,CAAC,CAAC;;;MAGA,MAAM,EAAE,CAAC;;;;MAIT,OAAO,EAAE,CAAC;KACX,CAAC;;;;;;IAMF,IAAI,WAAW,GAAG,SAAS,EAAE,EAAE;;;;MAI7B,IAAI,IAAI,GAAG,CAAC,CAAC;;MAEb,IAAI,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC,qBAAqB,EAAE,CAAC,GAAG,CAAC;MACrD,IAAI,WAAW,GAAG,EAAE,CAAC,YAAY,IAAI,EAAE,CAAC,YAAY,IAAI,EAAE,CAAC,YAAY,CAAC;;;MAGxE,IAAI,UAAU,GAAG,CAAC,IAAI,GAAG,QAAQ,GAAG,OAAO,KAAK,WAAW,GAAG,OAAO,CAAC,CAAC;;;MAGvE,IAAI,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;MACjF,IAAI,IAAI,GAAG,cAAc,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;;MAG7C,IAAI,YAAY,GAAG,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;;MAE9C,OAAO;QACL,IAAI,EAAE,IAAI;QACV,GAAG,EAAE,QAAQ;QACb,MAAM,EAAE,WAAW;QACnB,KAAK,EAAE,KAAK;QACZ,KAAK,EAAE,YAAY;OACpB,CAAC;KACH,CAAC;;;;;;IAMF,IAAI,WAAW,GAAG,WAAW;KAC5B,IAAI,IAAI,GAAG,IAAI,CAAC;;MAEf,IAAI,MAAM,CAAC,WAAW,KAAK,SAAS,EAAE;QACpC,IAAI,GAAG,MAAM,CAAC,WAAW,CAAC;OAC3B,MAAM;QACL,IAAI,GAAG,CAAC,QAAQ,CAAC,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,UAAU,IAAI,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC;OAC1F;;MAED,IAAI,IAAI,IAAI,IAAI,EAAE;;OAEjB,OAAO,IAAI,CAAC;OACZ;;;MAGD,OAAO,KAAK,CAAC;KACd,CAAC;;;;;IAKF,IAAI,cAAc,GAAG,SAAS,UAAU,EAAE,KAAK,EAAE;MAC/C,IAAI,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;MAC/C,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAC1B,CAAC;;;;EAIJ,IAAI,MAAM,GAAG,WAAW;GACvB,IAAI,WAAW,EAAE,EAAE;IAClB,OAAO,EAAE,CAAC;MACR;;;KAGD,IAAI,CAAC,MAAM,CAAC,CAAC;GACf,CAAC;;;IAGA,IAAI,OAAO,GAAG,WAAW;KACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC;QACxC,IAAI,UAAU,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC;;;QAGnF,IAAI,QAAQ,GAAG,cAAc,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;;;QAG5E,IAAI,SAAS,GAAG,gBAAgB,GAAG,QAAQ,GAAG,IAAI,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC7E,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,oBAAoB,CAAC,SAAS,CAAC,kBAAkB,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC;OACvH;KACF,CAAC;;;IAGF,IAAI,EAAE,CAAC;IACP,MAAM,CAAC,MAAM,EAAE,CAAC;IAChB,OAAO,IAAI,CAAC;GACb,CAAC;EACF,OAAO,MAAM,CAAC;CACf,CAAC;;;;;AC5MF;;;;;;;AAOA,AAEA,CAAC,YAAY;CACZ,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;CACrC,CAAC,EAAE;;","sourceRoot":"/source/"}