!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}({30:function(e,t,i){"use strict";
/*! npm.im/intervalometer */
function n(e,t,i,n){var r,d;function a(i){r=t(a,n),e(i-(d||i)),d=i}return{start:function(){r||a(0)},stop:function(){i(r),r=null,d=0}}}
/*! npm.im/iphone-inline-video 2.2.2 */
function r(e,t,i){function n(n){i&&!i(e,t)||n.stopImmediatePropagation()}return e.addEventListener(t,n),n}function d(e,t,i,n){function r(e){i[t]=e}n&&r(e[t]),Object.defineProperty(e,t,{get:function(){return i[t]},set:r})}function a(e,t,i){i.addEventListener(t,(function(){return e.dispatchEvent(new Event(t))}))}function o(e,t){Promise.resolve().then((function(){e.dispatchEvent(new Event(t))}))}i.r(t);var u="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,s="bfred-it:iphone-inline-video",c="bfred-it:iphone-inline-video:event",l="bfred-it:iphone-inline-video:nativeplay",v="bfred-it:iphone-inline-video:nativepause";var p,f=[],h=0;function y(e,t,i){(p||0)+200<Date.now()&&(e[c]=!0,p=Date.now()),i||(e.currentTime=t),f[++h%3]=100*t|0}function m(e){return e.driver.currentTime>=e.video.duration}function b(e){this.video.readyState>=this.video.HAVE_FUTURE_DATA?(this.hasAudio||(this.driver.currentTime=this.video.currentTime+e*this.video.playbackRate/1e3,this.video.loop&&m(this)&&(this.driver.currentTime=0)),y(this.video,this.driver.currentTime)):this.video.networkState===this.video.NETWORK_IDLE&&0===this.video.buffered.length&&this.video.load(),this.video.ended&&(delete this.video[c],this.video.pause(!0))}function g(){var e=this[s];this.webkitDisplayingFullscreen?this[l]():("data:"!==e.driver.src&&e.driver.src!==this.src&&(y(this,0,!0),e.driver.src=this.src),this.paused&&(e.paused=!1,0===this.buffered.length&&this.load(),e.driver.play(),e.updater.start(),e.hasAudio||(o(this,"play"),e.video.readyState>=e.video.HAVE_ENOUGH_DATA&&o(this,"playing"))))}function w(e){var t=this[s];t.driver.pause(),t.updater.stop(),this.webkitDisplayingFullscreen&&this[v](),t.paused&&!e||(t.paused=!0,t.hasAudio||o(this,"pause"),this.ended&&!this.webkitDisplayingFullscreen&&(this[c]=!0,o(this,"ended")))}function E(e,t){var i={};e[s]=i,i.paused=!0,i.hasAudio=t,i.video=e,i.updater=n(b.bind(i),requestAnimationFrame,cancelAnimationFrame),t?i.driver=function(e){var t=new Audio;return a(e,"play",t),a(e,"playing",t),a(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}(e):(e.addEventListener("canplay",(function(){e.paused||o(e,"playing")})),i.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){i.driver.paused=!0},play:function(){i.driver.paused=!1,m(i)&&y(e,0)},get ended(){return m(i)}}),e.addEventListener("emptied",(function(){var n=!i.driver.src||"data:"===i.driver.src;i.driver.src&&i.driver.src!==e.src&&(y(e,0,!0),i.driver.src=e.src,n||!t&&e.autoplay?i.driver.play():i.updater.stop())}),!1),e.addEventListener("webkitbeginfullscreen",(function(){e.paused?t&&0===i.driver.buffered.length&&i.driver.load():(e.pause(),e[l]())})),t&&(e.addEventListener("webkitendfullscreen",(function(){i.driver.currentTime=e.currentTime})),e.addEventListener("seeking",(function(){f.indexOf(100*e.currentTime|0)<0&&(i.driver.currentTime=e.currentTime)})))}function k(e){var t=e[c];return delete e[c],!e.webkitDisplayingFullscreen&&!t}t.default=function(e,t){if(void 0===t&&(t={}),!e[s]){if(!t.everywhere){if(!u)return;if(!(t.iPad||t.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}e.pause();var i=e.autoplay;e.autoplay=!1,E(e,!e.muted),function(e){var t=e[s];e[l]=e.play,e[v]=e.pause,e.play=g,e.pause=w,d(e,"paused",t.driver),d(e,"muted",t.driver,!0),d(e,"playbackRate",t.driver,!0),d(e,"ended",t.driver),d(e,"loop",t.driver,!0),r(e,"seeking",(function(e){return!e.webkitDisplayingFullscreen})),r(e,"seeked",(function(e){return!e.webkitDisplayingFullscreen})),r(e,"timeupdate",k),r(e,"ended",k)}(e),e.classList.add("IIV"),e.muted&&i&&(e.play(),e.addEventListener("playing",(function t(){e.autoplay=!0,e.removeEventListener("playing",t)}))),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}},6:function(e,t,i){e.exports=i(7)},7:function(e,t,i){var n,r;n=i(30),r=document.querySelector(".background-video"),n(r,!r.hasAttribute("muted"))}});
//# sourceMappingURL=iphone-inline-video.js.map