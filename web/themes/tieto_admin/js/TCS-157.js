(function (exports) {
'use strict';

/**
 * @file
 * Global scripts, loaded on every page.
 */

(function (Drupal, $) {
  'use strict';

  Drupal.behaviors.flyingCTA = {
    attach: function (context, settings) {
      var latestKnownScrollY = 0;
      var ticking = false;
      var $cta = $('.paragraph--type--header .field--name-field-call-to-action .button').once('flying-cta');
      var $fixed = null;
      var isFixed = false;
      var classAfterScroll = 'fly';

      function update() {
        // reset the tick so we can
        // capture the next onScroll
        ticking = false;

        var boundingClientRect = $cta[0].getBoundingClientRect();
        var shouldBeFixed = boundingClientRect.top < 50;
        var isMobile = window.innerWidth < 768;

        // Create fixed element if it hasnt been created yet.
        if (shouldBeFixed && !$fixed) {
          createFixed();
        }

        // Fix it.
        if (!isFixed && shouldBeFixed) {
          // Move button in the place of the original, so we can animate it from there.
          $fixed
            .css({
              position: 'fixed',
              top: isMobile ? 'auto' : '50%',
              right: isMobile ? 'auto' : '20px',
              bottom: isMobile ? '10px' : 'auto',
              left: isMobile ? 0 : 'auto',
            });

          var fixedBoundingClientRect = getFixedBoundingClientRect();
          var diffX = boundingClientRect.left - fixedBoundingClientRect.left;
          var diffY = boundingClientRect.top - fixedBoundingClientRect.top;
          $fixed.css('transform', 'translateX(' + diffX + 'px) translateY(' + diffY + 'px)');

          isFixed = true;

          setTimeout(function() {
            $fixed
              .css('transform', '')
              .addClass('in');
          });
        }
        // Go back to normal.
        else if(isFixed && !shouldBeFixed) {
          var fixedBoundingClientRect = getFixedBoundingClientRect();

          $fixed
            .removeClass('in')
            .css({
              position: 'absolute',
              top: boundingClientRect.top + window.scrollY,
              right: 'auto',
              left: boundingClientRect.left,
              transform: 'translateX(' + (fixedBoundingClientRect.left - boundingClientRect.left) + 'px) translateY(' + (fixedBoundingClientRect.top - boundingClientRect.top) + 'px)'
            });

          setTimeout(function() {
            $fixed
              .css('transform', '')
              .addClass('out');

            $fixed.one('transitionend', function() {
              isFixed = false;
              $fixed
                .removeClass('out')
                .css({
                  position: 'absolute',
                  top: boundingClientRect.top + window.scrollY + 'px',
                  right: 'auto',
                  left: boundingClientRect.left + 'px',
                });
            });
          });
        }
      }

      function createFixed() {
        var $clone = $cta
          .clone()
            .css('padding', $cta.css('padding'));

        $cta.css('transition', 'none');
        $cta.css('visibility', 'hidden');

        $fixed = $('<div>')
          .append($clone)
          .addClass('fly')
          .appendTo($('body'));
      }

      function getFixedBoundingClientRect() {
        return $fixed[0].getBoundingClientRect();
      }

      function onScroll() {
        latestKnownScrollY = window.scrollY; //No IE8
        requestTick();
      }

      function requestTick() {
        if (!ticking) {
          window.requestAnimationFrame(update);
        }
        ticking = true;
      }

      window.addEventListener('scroll', onScroll, false);
    }
  };

})(Drupal, jQuery);

}((this.LaravelElixirBundle = this.LaravelElixirBundle || {})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi92YXIvd3d3L3BhcmFncmFwaHMubG9jYWwvd2ViL3RoZW1lcy90aWV0b19hZG1pbi9zcmMvc2NyaXB0cy9UQ1MtMTU3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVcbiAqIEdsb2JhbCBzY3JpcHRzLCBsb2FkZWQgb24gZXZlcnkgcGFnZS5cbiAqL1xuXG4oZnVuY3Rpb24gKERydXBhbCwgJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgRHJ1cGFsLmJlaGF2aW9ycy5mbHlpbmdDVEEgPSB7XG4gICAgYXR0YWNoOiBmdW5jdGlvbiAoY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgIHZhciBsYXRlc3RLbm93blNjcm9sbFkgPSAwO1xuICAgICAgdmFyIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgIHZhciAkY3RhID0gJCgnLnBhcmFncmFwaC0tdHlwZS0taGVhZGVyIC5maWVsZC0tbmFtZS1maWVsZC1jYWxsLXRvLWFjdGlvbiAuYnV0dG9uJykub25jZSgnZmx5aW5nLWN0YScpO1xuICAgICAgdmFyICRmaXhlZCA9IG51bGw7XG4gICAgICB2YXIgaXNGaXhlZCA9IGZhbHNlO1xuICAgICAgdmFyIGNsYXNzQWZ0ZXJTY3JvbGwgPSAnZmx5JztcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAvLyByZXNldCB0aGUgdGljayBzbyB3ZSBjYW5cbiAgICAgICAgLy8gY2FwdHVyZSB0aGUgbmV4dCBvblNjcm9sbFxuICAgICAgICB0aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9ICRjdGFbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBzaG91bGRCZUZpeGVkID0gYm91bmRpbmdDbGllbnRSZWN0LnRvcCA8IDUwO1xuICAgICAgICB2YXIgaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2ODtcblxuICAgICAgICAvLyBDcmVhdGUgZml4ZWQgZWxlbWVudCBpZiBpdCBoYXNudCBiZWVuIGNyZWF0ZWQgeWV0LlxuICAgICAgICBpZiAoc2hvdWxkQmVGaXhlZCAmJiAhJGZpeGVkKSB7XG4gICAgICAgICAgY3JlYXRlRml4ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpeCBpdC5cbiAgICAgICAgaWYgKCFpc0ZpeGVkICYmIHNob3VsZEJlRml4ZWQpIHtcbiAgICAgICAgICAvLyBNb3ZlIGJ1dHRvbiBpbiB0aGUgcGxhY2Ugb2YgdGhlIG9yaWdpbmFsLCBzbyB3ZSBjYW4gYW5pbWF0ZSBpdCBmcm9tIHRoZXJlLlxuICAgICAgICAgICRmaXhlZFxuICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICB0b3A6IGlzTW9iaWxlID8gJ2F1dG8nIDogJzUwJScsXG4gICAgICAgICAgICAgIHJpZ2h0OiBpc01vYmlsZSA/ICdhdXRvJyA6ICcyMHB4JyxcbiAgICAgICAgICAgICAgYm90dG9tOiBpc01vYmlsZSA/ICcxMHB4JyA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgbGVmdDogaXNNb2JpbGUgPyAwIDogJ2F1dG8nLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgZml4ZWRCb3VuZGluZ0NsaWVudFJlY3QgPSBnZXRGaXhlZEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHZhciBkaWZmWCA9IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZml4ZWRCb3VuZGluZ0NsaWVudFJlY3QubGVmdDtcbiAgICAgICAgICB2YXIgZGlmZlkgPSBib3VuZGluZ0NsaWVudFJlY3QudG9wIC0gZml4ZWRCb3VuZGluZ0NsaWVudFJlY3QudG9wO1xuICAgICAgICAgICRmaXhlZC5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVYKCcgKyBkaWZmWCArICdweCkgdHJhbnNsYXRlWSgnICsgZGlmZlkgKyAncHgpJyk7XG5cbiAgICAgICAgICBpc0ZpeGVkID0gdHJ1ZTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkZml4ZWRcbiAgICAgICAgICAgICAgLmNzcygndHJhbnNmb3JtJywgJycpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnaW4nKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdvIGJhY2sgdG8gbm9ybWFsLlxuICAgICAgICBlbHNlIGlmKGlzRml4ZWQgJiYgIXNob3VsZEJlRml4ZWQpIHtcbiAgICAgICAgICB2YXIgZml4ZWRCb3VuZGluZ0NsaWVudFJlY3QgPSBnZXRGaXhlZEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgJGZpeGVkXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcbiAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgdG9wOiBib3VuZGluZ0NsaWVudFJlY3QudG9wICsgd2luZG93LnNjcm9sbFksXG4gICAgICAgICAgICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKCcgKyAoZml4ZWRCb3VuZGluZ0NsaWVudFJlY3QubGVmdCAtIGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0KSArICdweCkgdHJhbnNsYXRlWSgnICsgKGZpeGVkQm91bmRpbmdDbGllbnRSZWN0LnRvcCAtIGJvdW5kaW5nQ2xpZW50UmVjdC50b3ApICsgJ3B4KSdcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGZpeGVkXG4gICAgICAgICAgICAgIC5jc3MoJ3RyYW5zZm9ybScsICcnKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ291dCcpO1xuXG4gICAgICAgICAgICAkZml4ZWQub25lKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlzRml4ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgJGZpeGVkXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdvdXQnKVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWSArICdweCcsXG4gICAgICAgICAgICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAncHgnLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZpeGVkKCkge1xuICAgICAgICB2YXIgJGNsb25lID0gJGN0YVxuICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAuY3NzKCdwYWRkaW5nJywgJGN0YS5jc3MoJ3BhZGRpbmcnKSk7XG5cbiAgICAgICAgJGN0YS5jc3MoJ3RyYW5zaXRpb24nLCAnbm9uZScpO1xuICAgICAgICAkY3RhLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcblxuICAgICAgICAkZml4ZWQgPSAkKCc8ZGl2PicpXG4gICAgICAgICAgLmFwcGVuZCgkY2xvbmUpXG4gICAgICAgICAgLmFkZENsYXNzKCdmbHknKVxuICAgICAgICAgIC5hcHBlbmRUbygkKCdib2R5JykpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRGaXhlZEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICAgICAgcmV0dXJuICRmaXhlZFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICAgIGxhdGVzdEtub3duU2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZOyAvL05vIElFOFxuICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXF1ZXN0VGljaygpIHtcbiAgICAgICAgaWYgKCF0aWNraW5nKSB7XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25TY3JvbGwsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbn0pKERydXBhbCwgalF1ZXJ5KTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTs7Ozs7QUFLQSxDQUFDLFVBQVUsTUFBTSxFQUFFLENBQUMsRUFBRTtFQUNwQixZQUFZLENBQUM7O0VBRWIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUc7SUFDM0IsTUFBTSxFQUFFLFVBQVUsT0FBTyxFQUFFLFFBQVEsRUFBRTtNQUNuQyxJQUFJLGtCQUFrQixHQUFHLENBQUMsQ0FBQztNQUMzQixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7TUFDcEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLG9FQUFvRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO01BQ3RHLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztNQUNsQixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7TUFDcEIsSUFBSSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7O01BRTdCLFNBQVMsTUFBTSxHQUFHOzs7UUFHaEIsT0FBTyxHQUFHLEtBQUssQ0FBQzs7UUFFaEIsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUN6RCxJQUFJLGFBQWEsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2hELElBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDOzs7UUFHdkMsSUFBSSxhQUFhLElBQUksQ0FBQyxNQUFNLEVBQUU7VUFDNUIsV0FBVyxFQUFFLENBQUM7U0FDZjs7O1FBR0QsSUFBSSxDQUFDLE9BQU8sSUFBSSxhQUFhLEVBQUU7O1VBRTdCLE1BQU07YUFDSCxHQUFHLENBQUM7Y0FDSCxRQUFRLEVBQUUsT0FBTztjQUNqQixHQUFHLEVBQUUsUUFBUSxHQUFHLE1BQU0sR0FBRyxLQUFLO2NBQzlCLEtBQUssRUFBRSxRQUFRLEdBQUcsTUFBTSxHQUFHLE1BQU07Y0FDakMsTUFBTSxFQUFFLFFBQVEsR0FBRyxNQUFNLEdBQUcsTUFBTTtjQUNsQyxJQUFJLEVBQUUsUUFBUSxHQUFHLENBQUMsR0FBRyxNQUFNO2FBQzVCLENBQUMsQ0FBQzs7VUFFTCxJQUFJLHVCQUF1QixHQUFHLDBCQUEwQixFQUFFLENBQUM7VUFDM0QsSUFBSSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxHQUFHLHVCQUF1QixDQUFDLElBQUksQ0FBQztVQUNuRSxJQUFJLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLEdBQUcsdUJBQXVCLENBQUMsR0FBRyxDQUFDO1VBQ2pFLE1BQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLGFBQWEsR0FBRyxLQUFLLEdBQUcsaUJBQWlCLEdBQUcsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDOztVQUVuRixPQUFPLEdBQUcsSUFBSSxDQUFDOztVQUVmLFVBQVUsQ0FBQyxXQUFXO1lBQ3BCLE1BQU07ZUFDSCxHQUFHLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQztlQUNwQixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7V0FDbEIsQ0FBQyxDQUFDO1NBQ0o7O2FBRUksR0FBRyxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUU7VUFDakMsSUFBSSx1QkFBdUIsR0FBRywwQkFBMEIsRUFBRSxDQUFDOztVQUUzRCxNQUFNO2FBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQzthQUNqQixHQUFHLENBQUM7Y0FDSCxRQUFRLEVBQUUsVUFBVTtjQUNwQixHQUFHLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxPQUFPO2NBQzVDLEtBQUssRUFBRSxNQUFNO2NBQ2IsSUFBSSxFQUFFLGtCQUFrQixDQUFDLElBQUk7Y0FDN0IsU0FBUyxFQUFFLGFBQWEsSUFBSSx1QkFBdUIsQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEdBQUcsaUJBQWlCLElBQUksdUJBQXVCLENBQUMsR0FBRyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUs7YUFDekssQ0FBQyxDQUFBOztVQUVKLFVBQVUsQ0FBQyxXQUFXO1lBQ3BCLE1BQU07ZUFDSCxHQUFHLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQztlQUNwQixRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7O1lBRW5CLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLFdBQVc7Y0FDckMsT0FBTyxHQUFHLEtBQUssQ0FBQztjQUNoQixNQUFNO2lCQUNILFdBQVcsQ0FBQyxLQUFLLENBQUM7aUJBQ2xCLEdBQUcsQ0FBQztrQkFDSCxRQUFRLEVBQUUsVUFBVTtrQkFDcEIsR0FBRyxFQUFFLGtCQUFrQixDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUk7a0JBQ25ELEtBQUssRUFBRSxNQUFNO2tCQUNiLElBQUksRUFBRSxrQkFBa0IsQ0FBQyxJQUFJLEdBQUcsSUFBSTtpQkFDckMsQ0FBQyxDQUFBO2FBQ0wsQ0FBQyxDQUFBO1dBQ0gsQ0FBQyxDQUFDO1NBQ0o7T0FDRjs7TUFFRCxTQUFTLFdBQVcsR0FBRztRQUNyQixJQUFJLE1BQU0sR0FBRyxJQUFJO1dBQ2QsS0FBSyxFQUFFO2FBQ0wsR0FBRyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7O1FBRXpDLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDOztRQUVqQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztXQUNoQixNQUFNLENBQUMsTUFBTSxDQUFDO1dBQ2QsUUFBUSxDQUFDLEtBQUssQ0FBQztXQUNmLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztPQUN4Qjs7TUFFRCxTQUFTLDBCQUEwQixHQUFHO1FBQ3BDLE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLHFCQUFxQixFQUFFLENBQUM7T0FDMUM7O01BRUQsU0FBUyxRQUFRLEdBQUc7UUFDbEIsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUNwQyxXQUFXLEVBQUUsQ0FBQztPQUNmOztNQUVELFNBQVMsV0FBVyxHQUFHO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEVBQUU7VUFDWixNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdEM7UUFDRCxPQUFPLEdBQUcsSUFBSSxDQUFDO09BQ2hCOztNQUVELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3BEO0dBQ0YsQ0FBQzs7Q0FFSCxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQzs7In0=