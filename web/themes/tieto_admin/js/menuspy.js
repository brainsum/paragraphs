!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MenuSpy=e()}(this,function(){"use strict";var t=function(){return window.pageYOffset||document.documentElement.scrollTop},e=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},n=function(t,e){var n=null;return function(){var s=arguments,i=this;n||(n=setTimeout(function(){return n=0,t.apply(i,s)},e))}},s=function(e,s){var i=this;e&&(this.element="string"==typeof e?document.querySelector(e):e,this.options=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({menuItemSelector:'a[href^="#"]',activeClass:"active",threshold:15,enableLocationHash:!0,hashTimeout:600,callback:null},s),this.assignValues(),this.debouncedAssignValuesFn=n(function(){return i.assignValues()}),window.addEventListener("resize",this.debouncedAssignValuesFn),this.debouncedHashFn=n(function(){var e=i.lastInViewElm?"#"+i.lastInViewElm.id:"#";if(history.replaceState)history.replaceState(null,null,e);else{var n=t();window.location.hash=e,window.scrollTo(0,n)}},this.options.hashTimeout),this.cacheItems(),this.scrollFn())};return s.prototype.assignValues=function(){this.currScrollTop=0,this.lastInViewElm=null,this.menuHeight=this.element.offsetHeight+this.options.threshold,this.menuItems=[].slice.call(this.element.querySelectorAll(this.options.menuItemSelector)),this.raf=null},s.prototype.cacheItems=function(){this.scrollItems=this.menuItems.map(function(t){var e=t.dataset.target?document.querySelector(t.dataset.target):document.getElementById(t.hash.slice(1));return!!e&&{elm:t,target:e,offset:Math.floor(function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}(e).top)}}),this.scrollItems=this.scrollItems.filter(Boolean).sort(function(t,e){return t.offset-e.offset})},s.prototype.tick=function(){var t=this.currScrollTop+this.menuHeight,e=this.scrollItems.filter(function(e){return e.offset<t});this.activateItem(e.pop())},s.prototype.activateItem=function(t){var n=this,s=this.options,i=s.activeClass,o=s.callback;if(!t)return this.scrollItems.forEach(function(t){return e(t.elm.parentNode,i)}),this.lastInViewElm=null,void(this.options.enableLocationHash&&this.debouncedHashFn());this.lastInViewElm!==t.target&&(this.lastInViewElm=t.target,this.scrollItems.forEach(function(s){e(s.elm.parentNode,i),s.target===t.target&&(function(t,e){if(t.classList)t.classList.add(e);else{var n=t.className.split(" ");-1===n.indexOf(e)&&n.push(e),t.className=n.join(" ")}}(s.elm.parentNode,i),"function"==typeof o&&o.call(n,s),n.options.enableLocationHash&&n.debouncedHashFn())}))},s.prototype.scrollFn=function(){var e=t();this.currScrollTop!==e&&(this.currScrollTop=e,this.tick()),this.raf=window.requestAnimationFrame(this.scrollFn.bind(this))},s.prototype.destroy=function(){this.raf&&window.cancelAnimationFrame(this.raf),window.removeEventListener("resize",this.debouncedAssignValuesFn)},s});var $menu=jQuery("#nav-menu-link-list"),menuspy=new MenuSpy($menu[0],{enableLocationHash:!1,threshold:50}),$lis=$menu.find(">li");$menu.find(">li>a").on("click",function(t){var e=jQuery(this);$lis.removeClass("active"),e.parent().addClass("active")});